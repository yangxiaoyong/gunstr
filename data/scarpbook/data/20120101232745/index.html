<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LVM HOWTO</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.7"><link rel="NEXT" title=" Introduction " href="http://www.tldp.org/HOWTO/LVM-HOWTO/intro.html"></head>
<body class="book" alink="#0000FF" bgcolor="#FFFFFF" link="#0000FF" text="#000000" vlink="#840084"><div class="BOOK"><a name="AEN1"></a><div class="TITLEPAGE"><h1 class="title"><a name="AEN2"></a>LVM HOWTO</h1><h3 class="author"><a name="AEN4"></a>AJ Lewis</h3><div class="affiliation"><div class="address"><p class="address"><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<tt class="email">&lt;<a href="mailto:alewis%28at%29rackable.com">alewis(at)rackable.com</a>&gt;</tt><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</p></div></div><p class="copyright"><a href="http://www.tldp.org/HOWTO/LVM-HOWTO/ln124.html">Copyright</a> © 2002-2003 Sistina Software, Inc</p><p class="copyright"><a href="http://www.tldp.org/HOWTO/LVM-HOWTO/ln124.html">Copyright</a> © 2004-2005 Red Hat, Inc</p><p class="copyright"><a href="http://www.tldp.org/HOWTO/LVM-HOWTO/ln124.html">Copyright</a> © 2005-2006 Terrascale Technologies, Inc</p><p class="copyright"><a href="http://www.tldp.org/HOWTO/LVM-HOWTO/ln124.html">Copyright</a> © 2006 Rackable Systems, Inc</p><div class="revhistory"><table border="0" width="100%"><tbody><tr><th colspan="3" align="LEFT" valign="TOP"><b>Revision History</b></th></tr><tr><td align="LEFT">Revision 0.19</td><td align="LEFT">2006-11-27</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Clarified full snapshot conditions in <a indepth="true" href="snapshotintro.html"></a><a indepth="true" href="snapshotintro.html">Section 3.8</a> and <a indepth="true" href="snapshots_backup.html#snapbackcreate"></a><a indepth="true" href="snapshots_backup.html#snapbackcreate">Section 13.4.1</a> and added a note about resizing the origin of a snapshot;
          Fixed Rackable copyright;
          Fixed e-mail address</td></tr><tr><td align="LEFT">Revision 0.18</td><td align="LEFT">2006-11-27</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Clarify whole disk usage in <a indepth="true" href="initdisks.html"></a><a indepth="true" href="initdisks.html">Section 11.1</a>;
          Updated copyright;
          Updated e-mail address</td></tr><tr><td align="LEFT">Revision 0.17</td><td align="LEFT">2005-10-03</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Added FAQ entry for max size of LVs in LVM2;
          Did some cleanup of "Recover physical volume metadata" section;
	  Updated e-mail address</td></tr><tr><td align="LEFT">Revision 0.16</td><td align="LEFT">2005-07-15</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Added lvm2 boot-time scripts info;
          Added "Recover physical volume metadata" section - thanks to
          Maximilian Attems for the patch</td></tr><tr><td align="LEFT">Revision 0.15</td><td align="LEFT">2005-06-09</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Removed references to xfs_freeze - it is no longer needed;
          Updated snapshots subsection in Anatomy of LVM section;
          Added a couple entries to the LVM2 FAQ;
          Fixed a couple typos</td></tr><tr><td align="LEFT">Revision 0.14</td><td align="LEFT">2004-10-06</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Added reference to lvm2_createinitrd in source tree;
          Adjusted lvcreate example slightly; Added 'vgchange -ay' in
          'Moving a volume group to another system' recipe</td></tr><tr><td align="LEFT">Revision 0.13</td><td align="LEFT">2004-08-16</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Clarify symlink farm description;
          Fix dm control device major number;
          Remove /boot from vg in small lvm setup example;
          Add notes about /boot and / on LVM;
          Remove outdated link;</td></tr><tr><td align="LEFT">Revision 0.12</td><td align="LEFT">2004-06-07</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated LVM2 FAQ entries</td></tr><tr><td align="LEFT">Revision 0.11</td><td align="LEFT">2004-05-03</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated LVM2 FAQ entries</td></tr><tr><td align="LEFT">Revision 0.10</td><td align="LEFT">2004-04-22</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">removed -print0 from find command after receiving
            reports that it doesn't work</td></tr><tr><td align="LEFT">Revision 0.9</td><td align="LEFT">2004-04-16</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Added -print0 to find command before piping
          it to cpio;
          Changed vgimport command line for LVM 2;
          Added ext3 to the ext2 resize section;
          Updated FAQ;
          Updated Links section</td></tr><tr><td align="LEFT">Revision 0.8</td><td align="LEFT">2004-02-25</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated CVS locations and FTP links;
          Added section on extending a JFS filesystem;
          Fixed typos - Ran aspell against document</td></tr><tr><td align="LEFT">Revision 0.7</td><td align="LEFT">2004-02-16</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated to include LVM 2 and device mapper information;
          Updated email addresses;
          Updated copyright;
          Added FAQ section;
          Added document license;
          Updated to docbook 4.2</td></tr><tr><td align="LEFT">Revision 0.6</td><td align="LEFT">2003-12-09</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated for LVM 1.0.8;
          fixed broken link;
          Clarified redhat init script section;</td></tr><tr><td align="LEFT">Revision 0.5</td><td align="LEFT">2003-02-10</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated Redhat initscript information for 7.0 and above;
          Added information on removing a partition table from a
          disk if pvcreate fails;
          Default PE size is 32MB now;
          Updated method for snapshotting under XFS.</td></tr><tr><td align="LEFT">Revision 0.4</td><td align="LEFT">2002-12-16</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated for LVM 1.0.6</td></tr><tr><td align="LEFT">Revision 0.3</td><td align="LEFT">2002-09-16</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">removed example pvmove from Command Operations section - we now
          just point to the more detailed recipe on pvmove that contains
          various warnings and such</td></tr><tr><td align="LEFT">Revision 0.2</td><td align="LEFT">2002-09-11</td><td align="LEFT">Revised by: ajl</td></tr><tr><td colspan="3" align="LEFT">Updated for LVM 1.0.5 and converted to DocBook XML 4.1.2.</td></tr><tr><td align="LEFT">Revision 0.1</td><td align="LEFT">2002-04-28</td><td align="LEFT">Revised by: gf</td></tr><tr><td colspan="3" align="LEFT">Initial conversion from Sistina's LaTeX source and import to
          tLDP in LinuxDoc format.</td></tr></tbody></table></div><div><div class="abstract"><a name="AEN127"></a><p></p><p>
        This document describes how to build, install, and configure
        LVM for Linux.  A basic description of LVM is also included.
        This version of the HowTo is for LVM 2 with device-mapper, as
        well as LVM 1.0.8.
      </p><p></p></div></div><hr></div><div class="TOC"><dl><dt><b>Table of Contents</b></dt><dt><a indepth="true" href="intro.html">Introduction</a></dt><dd><dl><dt>1. <a indepth="true" href="latest_version.html">Latest Version</a></dt><dt>2. <a indepth="true" href="disclaimer.html">Disclaimer</a></dt><dt>3. <a indepth="true" href="contributors.html">Contributors</a></dt></dl></dd><dt>1. <a indepth="true" href="whatislvm.html">What is LVM?</a></dt><dt>2. <a indepth="true" href="whatisvolman.html">What is Logical Volume Management?</a></dt><dd><dl><dt>2.1. <a indepth="true" href="whywouldiwantit.html">Why would I want it?</a></dt><dt>2.2. <a indepth="true" href="benefitsoflvmsmall.html">Benefits of Logical Volume Management on a Small System</a></dt><dt>2.3. <a indepth="true" href="benefitsoflvmlarge.html">Benefits of Logical Volume Management on a Large System</a></dt></dl></dd><dt>3. <a indepth="true" href="anatomy.html">Anatomy of LVM</a></dt><dd><dl><dt>3.1. <a indepth="true" href="vg.html">volume group (VG)</a></dt><dt>3.2. <a indepth="true" href="pv.html">physical volume (PV)</a></dt><dt>3.3. <a indepth="true" href="lv.html">logical volume (LV)</a></dt><dt>3.4. <a indepth="true" href="pe.html">physical extent (PE)</a></dt><dt>3.5. <a indepth="true" href="le.html">logical extent (LE)</a></dt><dt>3.6. <a indepth="true" href="tyingittogether.html">Tying it all together</a></dt><dt>3.7. <a indepth="true" href="mapmode.html">mapping modes (linear/striped)</a></dt><dt>3.8. <a indepth="true" href="snapshotintro.html">Snapshots</a></dt></dl></dd><dt>4. <a indepth="true" href="faq.html">Frequently Asked Questions</a></dt><dd><dl><dt>4.1. <a indepth="true" href="lvm2faq.html">LVM 2 FAQ</a></dt><dt>4.2. <a indepth="true" href="lvm1faq.html">LVM 1 FAQ</a></dt></dl></dd><dt>5. <a indepth="true" href="getlvm.html">Acquiring LVM</a></dt><dd><dl><dt>5.1. <a indepth="true" href="downloadsource.html">Download the source</a></dt><dt>5.2. <a indepth="true" href="publiccvs.html">Download the development source via CVS</a></dt><dt>5.3. <a indepth="true" href="beforebeginning.html">Before You Begin</a></dt><dt>5.4. <a indepth="true" href="initsetup.html">Initial Setup</a></dt><dt>5.5. <a indepth="true" href="checkoutsource.html">Checking Out Source Code</a></dt><dt>5.6. <a indepth="true" href="codeupdate.html">Code Updates</a></dt><dt>5.7. <a indepth="true" href="startproj.html">Starting a Project</a></dt><dt>5.8. <a indepth="true" href="hackingcode.html">Hacking the Code</a></dt><dt>5.9. <a indepth="true" href="conflicts.html">Conflicts</a></dt></dl></dd><dt>6. <a indepth="true" href="buildkernelmods.html">Building the kernel modules</a></dt><dd><dl><dt>6.1. <a indepth="true" href="builddmmod.html">Building the device-mapper module</a></dt><dt>6.2. <a indepth="true" href="buildlvmmod.html">Build the LVM 1 kernel module</a></dt></dl></dd><dt>7. <a indepth="true" href="boot_scripts.html">LVM 1 Boot time scripts</a></dt><dd><dl><dt>7.1. <a indepth="true" href="initscriptcaldera.html">Caldera</a></dt><dt>7.2. <a indepth="true" href="initscriptdebian.html">Debian</a></dt><dt>7.3. <a indepth="true" href="initscriptmandrake.html">Mandrake</a></dt><dt>7.4. <a indepth="true" href="initscriptredhat.html">Redhat</a></dt><dt>7.5. <a indepth="true" href="initscriptslackware.html">Slackware</a></dt><dt>7.6. <a indepth="true" href="initscriptsuse.html">SuSE</a></dt></dl></dd><dt>8. <a indepth="true" href="lvm2_boot.html">LVM 2 Boot Time Scripts</a></dt><dt>9. <a indepth="true" href="buildlvm.html">Building LVM from the Source</a></dt><dd><dl><dt>9.1. <a indepth="true" href="makelvm1user.html">Make LVM library and tools</a></dt><dt>9.2. <a indepth="true" href="installlvm1user.html">Install LVM library and tools</a></dt><dt>9.3. <a indepth="true" href="removelvm1user.html">Removing LVM library and tools</a></dt></dl></dd><dt>10. <a indepth="true" href="trans1.html">Transitioning from previous versions of LVM to LVM 1.0.8</a></dt><dd><dl><dt>10.1. <a indepth="true" href="upgradelvm1.html">Upgrading to LVM 1.0.8 with a non-LVM root partition</a></dt><dt>10.2. <a indepth="true" href="upgradetolvmroot.html">Upgrading to LVM 1.0.8 with an LVM root partition and initrd</a></dt></dl></dd><dt>11. <a indepth="true" href="commontask.html">Common Tasks</a></dt><dd><dl><dt>11.1. <a indepth="true" href="initdisks.html">Initializing disks or disk partitions</a></dt><dt>11.2. <a indepth="true" href="createvgs.html">Creating a volume group</a></dt><dt>11.3. <a indepth="true" href="activatevgs.html">Activating a volume group</a></dt><dt>11.4. <a indepth="true" href="removevgs.html">Removing a volume group</a></dt><dt>11.5. <a indepth="true" href="addpvstovg.html">Adding physical volumes to a volume group</a></dt><dt>11.6. <a indepth="true" href="removepvsfromvg.html">Removing physical volumes from a volume group</a></dt><dt>11.7. <a indepth="true" href="createlv.html">Creating a logical volume</a></dt><dt>11.8. <a indepth="true" href="removelv.html">Removing a logical volume</a></dt><dt>11.9. <a indepth="true" href="extendlv.html">Extending a logical volume</a></dt><dt>11.10. <a indepth="true" href="reducelv.html">Reducing a logical volume</a></dt><dt>11.11. <a indepth="true" href="migrateoffpv.html">Migrating data off of a physical volume</a></dt></dl></dd><dt>12. <a indepth="true" href="diskpart.html">Disk partitioning</a></dt><dd><dl><dt>12.1. <a indepth="true" href="multpartitions.html">Multiple partitions on the same disk</a></dt><dt>12.2. <a indepth="true" href="sundisklabels.html">Sun disk labels</a></dt></dl></dd><dt>13. <a indepth="true" href="recipes.html">Recipes</a></dt><dd><dl><dt>13.1. <a indepth="true" href="recipethreescsi.html">Setting up LVM on three SCSI disks</a></dt><dt>13.2. <a indepth="true" href="recipethreescsistripe.html">Setting up LVM on three SCSI disks with striping</a></dt><dt>13.3. <a indepth="true" href="recipeadddisk.html">Add a new disk to a multi-disk SCSI system</a></dt><dt>13.4. <a indepth="true" href="snapshots_backup.html">Taking a Backup Using Snapshots</a></dt><dt>13.5. <a indepth="true" href="removeadisk.html">Removing an Old Disk</a></dt><dt>13.6. <a indepth="true" href="recipemovevgtonewsys.html">Moving a volume group to another system</a></dt><dt>13.7. <a indepth="true" href="recipesplitvg.html">Splitting a volume group</a></dt><dt>13.8. <a indepth="true" href="upgraderoottolvm.html">Converting a root filesystem to
        LVM 1</a></dt><dt>13.9. <a indepth="true" href="recovermetadata.html">Recover physical volume metadata</a></dt></dl></dd><dt>A. <a indepth="true" href="dangerousops.html">Dangerous Operations</a></dt><dd><dl><dt>A.1. <a indepth="true" href="uuidfixer.html">Restoring the VG UUIDs using uuid_fixer</a></dt><dt>A.2. <a indepth="true" href="sharinglvm1.html">Sharing LVM volumes</a></dt></dl></dd><dt>B. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/reportbug.html">Reporting Errors and Bugs</a></dt><dt>C. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/contactsandlinks.html">Contact and Links</a></dt><dd><dl><dt>C.1. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/maillists.html">Mail lists</a></dt><dt>C.2. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/links.html">Links</a></dt></dl></dd><dt>D. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl.html">GNU Free Documentation License</a></dt><dd><dl><dt>D.1. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-0.html">PREAMBLE</a></dt><dt>D.2. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-1.html">APPLICABILITY AND DEFINITIONS</a></dt><dt>D.3. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-2.html">VERBATIM COPYING</a></dt><dt>D.4. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-3.html">COPYING IN QUANTITY</a></dt><dt>D.5. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-4.html">MODIFICATIONS</a></dt><dt>D.6. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-5.html">COMBINING DOCUMENTS</a></dt><dt>D.7. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-6.html">COLLECTIONS OF DOCUMENTS</a></dt><dt>D.8. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-7.html">AGGREGATION WITH INDEPENDENT WORKS</a></dt><dt>D.9. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-8.html">TRANSLATION</a></dt><dt>D.10. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-9.html">TERMINATION</a></dt><dt>D.11. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-10.html">FUTURE REVISIONS OF THIS LICENSE</a></dt><dt>D.12. <a href="http://www.tldp.org/HOWTO/LVM-HOWTO/gfdl-addendum.html">ADDENDUM: How to use this License for
        your documents</a></dt></dl></dd></dl></div></div><div class="NAVFOOTER"><hr align="LEFT" width="100%"><table summary="Footer navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td align="left" valign="top" width="33%">&nbsp;</td><td align="center" valign="top" width="34%">&nbsp;</td><td align="right" valign="top" width="33%"><a indepth="true" href="intro.html" accesskey="N">Next</a></td></tr><tr><td align="left" valign="top" width="33%">&nbsp;</td><td align="center" valign="top" width="34%">&nbsp;</td><td align="right" valign="top" width="33%">Introduction</td></tr></tbody></table></div>

</body></html>
