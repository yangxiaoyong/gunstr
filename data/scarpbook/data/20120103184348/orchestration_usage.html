<!DOCTYPE html>
<html lang="en-US" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  	
  	<title>Documentation | Puppet Labs - PE 2.0 » Orchestration » Usage</title>
  	<meta name="description" content="The open source leader in data center automation">
  	<link rel="alternate" type="text/xml" title="Puppet Labs RSS 0.92 Feed" href="http://puppetlabs.com/feed/rss/">
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Atom Feed" href="http://puppetlabs.com/feed/atom/">
  	<link rel="alternate" type="application/rss+xml" title="Puppet Labs RSS 2.0 Feed" href="http://puppetlabs.com/feed/">
  	<link rel="pingback" href="http://puppetlabs.com/xmlrpc.php">
    <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://puppetlabs.com/xmlrpc.php?rsd">
    <link rel="index" title="Puppet Labs" href="http://docs.puppetlabs.com/">

<!-- Google stats -->


<!-- End Google stats -->


    <!-- FIXME: absolute paths -->

    
    
    
    
    
    

     <!--Add rotation jQuery Script -->
	 	
    

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support">
    <link rel="canonical" href="http://docs.puppetlabs.com/">
    <!-- /all in one seo pack -->
	
    <!-- FIXME: absolute paths -->

     
     <!-- index -->
    

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <!--[endif]---->
  
    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <!--[endif]---->		

  	

<link rel="stylesheet" type="text/css" href="orchestration_usage.css" media="all">
</head>
<body id="puppetlabsdocs" class="docs">
  		
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->		

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/puppet/">
              <span>Products</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>            
              <li>
                <ul>
<li class="page_item page-item-769"><a href="http://www.puppetlabs.com/puppet/puppet-enterprise/" title="Puppet Enterprise">Puppet Enterprise</a></li>
<li class="page_item page-item-757"><a href="http://www.puppetlabs.com/puppet/introduction/" title="Puppet">Puppet</a></li>
<li class="page_item page-item-956"><a href="http://www.puppetlabs.com/puppet/how-to-buy/" title="How to Buy">How to Buy</a></li>
<li class="page_item page-item-1159"><a href="http://forge.puppetlabs.com/" title="Module Forge">Module Forge</a></li>

<li class="page_item page-item-2415"><a href="http://www.puppetlabs.com/mcollective/introduction/" title="MCollective">MCollective</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>

            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://www.puppetlabs.com/services/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-839"><a href="http://www.puppetlabs.com/services/support/" title="Enterprise Support">Enterprise Support</a></li>
<li class="page_item page-item-845"><a href="http://www.puppetlabs.com/services/training-workshops/" title="On-Site Training &amp; Consulting">On-Site Training &amp; Consulting</a></li>
<li class="page_item page-item-849"><a href="http://docs.puppetlabs.com/category/events/upcoming/" title="Events &amp; Public Training">Events &amp; Public Training</a></li>
<li class="page_item page-item-851"><a href="http://www.puppetlabs.com/services/partners/" title="Partners">Partners</a></li>
<li class="page_item page-item-1037"><a href="http://docs.puppetlabs.com/resources/customer-support" title="Customer Support">Customer Support</a></li>
            </ul>
          </li>
          <li id="resources-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/resources/">
              <span>Resources</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/resources/overview-2/" title="Overview">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/resources/customer-support/" title="Customer Support">Customer Support</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com/" title="Documentation">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download" title="Downloads">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com/" title="Module Forge">Module Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/request-whitepapers.html" title="White Papers">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki" title="Wiki">Wiki</a></li>
            </ul>

          </li>

<li id="customer-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/customers/companies/">
              <span>Customers</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://www.puppetlabs.com/customers/companies/" title="Overview">Companies</a></li>
<li class="page_item page-item-1052"><a href="http://www.puppetlabs.com/customers/case-studies/" title="Case Studies">Case Studies</a></li>
<li class="page_item page-item-1040"><a href="http://www.puppetlabs.com/customers/product-testimonials/" title="Product Testimonials">Product Testimonials</a></li>
<li class="page_item page-item-872"><a href="http://www.puppetlabs.com/customers/what-customers-are-saying/" title="ervice Testimonials">Service Testimonials</a></li>
	</ul>
          </li>
         <li id="community-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/community/">
              <span>Community</span>

              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/community/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2195"><a href="http://www.puppetlabs.com/blog" title="Blog">Blog</a></li>
<li class="page_item page-item-2264"><a href="http://www.puppetlabs.com/community/puppet-camp/" title="Puppet Camp">Puppet Camp</a></li>
<li class="page_item page-item-2249"><a href="http://www.puppetlabs.com/community/user-groups-and-devops-groups/" title="User Groups &amp; DevOps Groups">User Groups &amp; DevOps Groups</a></li>
<li class="page_item page-item-2215"><a href="http://www.puppetlabs.com/community/presentations/" title="Presentations">Presentations</a></li>

<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/videos/" title="Videos">Videos</a></li>
<li class="page_item page-item-2217"><a href="http://www.puppetlabs.com/community/badges/" title="Badges">Badges</a></li>
            </ul>
          </li>

          <li id="company-tab" class="with-submenu">
            <a href="http://www.puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>

            <ul>
              <li class="page_item page-item-2316"><a href="http://www.puppetlabs.com/company/overview/" title="Overview">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://www.puppetlabs.com/company/news/" title="News">News</a></li>
<li class="page_item page-item-1571"><a href="http://www.puppetlabs.com/company/jobs/" title="Jobs">Jobs</a></li>
<li class="page_item page-item-2313"><a href="http://www.puppetlabs.com/company/contact-us/" title="Contact Us">Contact Us</a></li>
            </ul>
          </li>
    		</ul>	   
          <div id="misc-navigation">

			  <ul>
				<li><a href="http://puppetlabs.com/security/">Security</a></li>
				<li><a href="http://docs.puppetlabs.com/">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
				<li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/#contact">Contact Us</a></li>
				<li><a href="http://info.puppetlabs.com/download-pe2.html" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">

			  <div>
				<input name="cx" value="017884045025332504017:1mnj-dlgfcc" type="hidden">
				<input name="ie" value="UTF-8" type="hidden">
				<input value="" name="q" size="31" type="text">
				<input name="sa" class="searchbtn" value="Search" type="submit">
			  </div>
			</form>
			

          </div>
      </nav>
    	</div>
    </header>  

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">PE 2.0 » Orchestration » Usage</span></h1>
          <ul id="doc-navigation">
            <li><a href="http://docs.puppetlabs.com/">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
               	            <dl>
	              <dt>Puppet Guides</dt>
                      <dd><a href="http://docs.puppetlabs.com/index.html">Index</a></dd>
                  <dt>Puppet References</dt>
                      <dd><a href="http://docs.puppetlabs.com/references/stable/type.html">Resource Types</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/stable/function.html">Functions</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/stable/metaparameter.html">Metaparameters</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/stable/configuration.html">Configuration</a></dd>
                      <dt>References By Version</dt>
                      <dd><a href="http://docs.puppetlabs.com/references/2.7.9/">2.7.9</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/2.6.13/">2.6.13</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/0.25.5/">0.25.5</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/0.24.8/">0.24.8</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/references/">Other Versions</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="http://docs.puppetlabs.com/mcollective/index.html">Index</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/mcollective/simplerpc/index.html">SimpleRPC</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/mcollective/roadmap/index.html">Roadmap</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/mcollective/releasenotes.html">Release Notes</a></dd>
                      <dd><a href="http://docs.puppetlabs.com/mcollective/reference/index.html">References</a></dd>
	            </dl>

            </li>
            <li><a href="http://docs.puppetlabs.com/contribute.html">Contribute</a></li>
          </ul>
        </div>
      </section>
    
      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              <h1 id="orchestration-for-new-pe-users-usage-and-examples">Orchestration for New PE Users: Usage and Examples</h1>

<h2 id="running-actions">Running Actions</h2>

<p>Orchestration actions are grouped and distributed as MCollective
plugins. In the default installation of Puppet Enterprise, you can run any orchestration action from any plugin while logged in as the <code>peadmin</code> user on the puppet master node.</p>

<p>To open a shell as the <code>peadmin</code> user, run:</p>

<pre><code># sudo -i -u peadmin
</code></pre>

<p>To run orchestration actions, use the <code>mco</code> command:</p>

<pre><code>$ mco &lt;PLUGIN&gt; &lt;FILTER&gt; &lt;ACTION&gt; &lt;ARGUMENT&gt; &lt;OPTIONS&gt;
</code></pre>

<h2 id="available-actions">Available Actions</h2>

<p>The following orchestration actions are available in PE 2.0:</p>

<ul>
  <li><code>rpcutil</code> plugin
    <ul>
      <li><code>find</code> action returns a list of all nodes matching a search filter</li>
      <li><code>ping</code> action returns a list of all nodes and their latencies</li>
      <li><code>inventory</code> action returns a list of Facts, Classes, and other information from all nodes</li>
      <li>this plugin’s actions are exposed via higher-level wrappers, such as the mco ping command</li>
    </ul>
  </li>
  <li><code>puppetral</code> plugin
    <ul>
      <li><code>find</code> action returns a Puppet resource of a given type and title and its variations across all nodes</li>
      <li><code>search</code> action returns all Puppet resources of a given type across all nodes</li>
      <li><code>create</code> action creates a given resource across all nodes
        <ul>
          <li>creating an exec resource allows for arbitrary management of nodes</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><code>puppetd</code> plugin
    <ul>
      <li><code>enable</code> and <code>disable</code> actions enable and disable puppet agent on a node or nodes</li>
      <li><code>runonce</code> action initiates a puppet agent run on all nodes</li>
      <li><code>last_run_summary</code> action retrieves the most recent Puppet run summary from all nodes</li>
      <li><code>status</code> action returns puppet agent’s run status on all nodes</li>
    </ul>
  </li>
  <li><code>service</code> plugin
    <ul>
      <li><code>start, stop, restart,</code> and <code>status</code> actions allow direct management of services across the deployment</li>
    </ul>
  </li>
  <li><code>package</code> plugin
    <ul>
      <li><code>install, purge, checkupdate, update,</code> and <code>status</code> actions work through the system package manager to query and ensure the state of software packages across the deployment</li>
    </ul>
  </li>
  <li><code>controller</code> plugin
    <ul>
      <li><code>stats</code> action returns cumulative statistics about MCollective messages passed between nodes</li>
      <li><code>reload_agent</code> action refreshes from disk the code for a specific plugin</li>
      <li><code>reload_agents</code> action refreshes from disk the code for all plugins</li>
      <li><code>exit</code> action removes nodes from the MCollective network</li>
    </ul>
  </li>
</ul>

<h2 id="filtering-nodes">Filtering Nodes</h2>

<p>Most orchestration actions in Puppet Enterprise 2.0 can be executed
on a set of nodes determined by meta-data about the deployment.
This filtering provides a much more convenient way to manage nodes
than the traditional approach of using host names or fully
qualified domain names to identify and access machines.  Node sets
can be created by filtering based on Facter facts, Puppet classes,
and host names. Filters can be specified by passing options to the
mco command. For example:</p>

<pre><code>$ mco find --with-fact osfamily=RedHat
</code></pre>

<p>This command limits the find action to only return nodes who have a
fact named osfamily with a value of RedHat.  Filter options are
case sensitive and support regular expression syntax.</p>

<h2 id="examples">Examples</h2>

<h3 id="ping">Ping</h3>

<p>The ping action of the rpcutil plugin is wrapped to be available at
a higher level as the mco ping command. This command returns a list
of all the nodes and their network latencies.  In a typical Puppet
Enterprise deployment, latencies for issuing an orchestration
action are less than half a second:</p>

<pre><code>peadmin@puppetmaster:~$ mco ping
puppetmaster.example.com               time=135.94 ms
agent.example.com                      time=136.55 ms
---- ping statistics ----
2 replies max: 136.55 min: 135.94 avg: 136.25
</code></pre>

<h3 id="find">Find</h3>

<p>The find action of the rpcutil plugin is wrapped to be available at
a higher level as the mco find command. This command returns a list
of all the nodes in the network:</p>

<pre><code>peadmin@puppetmaster:~$ mco find
puppetmaster.example.com
agent.example.com
</code></pre>

<h3 id="inventory">Inventory</h3>

<p>The inventory action of the rpcutil plugin is wrapped to be
available at a higher level as the mco inventory command. This
command returns facts and classes, among other information:</p>

<pre><code>peadmin@puppetmaster:~$ mco inventory agent.example.com
Inventory for agent.example.com:
 Server Statistics:
   Version: 1.2.1
   Start Time: Mon Nov 14 15:25:33 -0800 2011
   Config File: /etc/puppetlabs/mcollective/server.cfg
   Collectives: mcollective
   Main Collective: mcollective
   Process ID: 5553
   Total Messages: 86
   Messages Passed Filters: 74
   Messages Filtered: 12
   Replies Sent: 73
   Total Processor Time: 1.34 seconds
   System Time: 0.59 seconds
 Agents:
   discovery       package         puppetd        
   puppetral       rpcutil         service
 Configuration Management Classes:
   default                        helloworld
   helloworld                     pe_accounts
   pe_accounts                    pe_accounts::data
   pe_accounts::groups            pe_compliance
   pe_compliance                  pe_compliance::agent
   pe_mcollective                 pe_mcollective
   pe_mcollective::metadata       pe_mcollective::plugins
   settings
Facts:
   architecture =&gt; i386
   augeasversion =&gt; 0.7.2
   ...
</code></pre>

<h3 id="puppetd">Puppetd</h3>

<p>The puppetd plugin orchestrates Puppet itself across the
deployment. This plugin is capable of kicking off Puppet
configuration runs on each node in the deployment all at the same
time, on a subset of the deployment using filtering, or using a
maximum concurrency level. The maximum concurrency feature is
particularly noteworthy as it allows the execution of a
configuration run on all nodes in the population, but sets an upper
limit on the number of nodes that are performing their run at any
given time, thus mitigating the network load and resource demands
on the puppet master. This example performs a configuration run on
all nodes, but only one node at a time:</p>

<pre><code>peadmin@puppetmaster:~$ mco puppetd runall 1
Tue Nov 15 11:17:11 -0800 2011&gt; Running all machines with a concurrency of 1
Tue Nov 15 11:17:11 -0800 2011&gt; Discovering hosts to run
Tue Nov 15 11:17:13 -0800 2011&gt; Found 2 hosts
Tue Nov 15 11:17:13 -0800 2011&gt; Running agent.example.com, concurrency is 0
Tue Nov 15 11:17:14 -0800 2011&gt; agent.example.com schedule status: OK
Tue Nov 15 11:17:15 -0800 2011&gt; Currently 1 nodes running; waiting
Tue Nov 15 11:17:21 -0800 2011&gt; Running puppetmaster.example.com, concurrency is 0
Tue Nov 15 11:17:22 -0800 2011&gt; puppetmaster.example.com schedule status: OK
Finished processing 1 / 1 hosts in 98.98 ms
</code></pre>

<p>Note, the “1 / 1 hosts” is an indication that one host was actually
performing the orchestration of the Puppet configuration run.  This
does not mean only one host in the deployment performed the
configuration run.  The message “Found 2 hosts” indicates that two
nodes carried out this action.</p>

<p>Once finished with the Puppet configuration run, the status action
can be used to see the last Puppet configuration run for each node
in the deployment.</p>

<pre><code>peadmin@puppetmaster:~$ mco puppetd status
[ =============================================&gt; ] 2 / 2
agent.example.com  Enabled, not running, last run 10 seconds ago
puppetmaster.example.com  Enabled, not running, last run 2 seconds ago

Finished processing 2 / 2 hosts in 105.29 ms
</code></pre>

<h3 id="puppetral">PuppetRAL</h3>

<p>The puppetral plugin provides a command line tool to work with any
resource Puppet is capable of managing.  A common use case for the
puppetral plugin is to execute arbitrary commands on the deployment
using the exec resource. This example creates a new file on all
nodes in the deployment:</p>

<pre><code>peadmin@puppetmaster:~$ mco rpc puppetral \
create type=exec title="/bin/bash -c 'echo Hello &gt; /tmp/hello'"
Determining the amount of hosts matching filter for 2 seconds .... 2

[ =================================================&gt; ] 2 / 2

agent.example.com                      
Status: Resource was created
Resource:
  {"exported"=&gt;false, 
   "title"=&gt;"/bin/bash -c 'echo Hello &gt; /tmp/hello'",
   "parameters"=&gt;{:returns=&gt;:notrun},
   "tags"=&gt;["exec"],
   "type"=&gt;"Exec"}

 puppetmaster.example.com              
 Status: Resource was created
 Resource:
   {"exported"=&gt;false,
    "title"=&gt;"/bin/bash -c 'echo Hello &gt; /tmp/hello'",
    "parameters"=&gt;{:returns=&gt;:notrun},
    "tags"=&gt;["exec"],
    "type"=&gt;"Exec"}

 Finished processing 2 / 2 hosts in 249.21 ms
</code></pre>

<p>That this file was created can be verified with the find action:</p>

<pre><code> peadmin@puppetmaster:~$ mco rpc puppetral find type=file title=/tmp/hello

 Determining the amount of hosts matching filter for 2 seconds .... 2

 [ ================================================&gt; ] 2 / 2

 agent.example.com
   exported: false
   managed: false
   title: /tmp/hello
   parameters:
     {:ctime=&gt;Tue Nov 15 11:32:10 -0800 2011,
      :type=&gt;"file",
      :ensure=&gt;:file,
      :group=&gt;0,
      :owner=&gt;0,
      :mtime=&gt;Tue Nov 15 11:32:10 -0800 2011,
      :mode=&gt;"644",
      :content=&gt;"{md5}09f7e02f1290be211da707a266f153b3"}
  tags: ["file"]
  type: File

 puppetmaster.example.com
   managed: false
   exported: false
   title: /tmp/hello
   parameters:
     {:ctime=&gt;Tue Nov 15 11:32:10 -0800 2011,
      :type=&gt;"file",
      :group=&gt;0,
      :ensure=&gt;:file,
      :owner=&gt;0,
      :mtime=&gt;Tue Nov 15 11:32:10 -0800 2011,
      :mode=&gt;"644",
      :content=&gt;"{md5}09f7e02f1290be211da707a266f153b3"}
   tags: ["file"]
   type: File

 Finished processing 2 / 2 hosts in 166.12 ms
</code></pre>

<p>The puppetral plugin can manage any resource Puppet itself is
capable of managing. In particular, user, group, host, and
package resources are exposed directly in the console’s live management page.</p>

<h3 id="service">Service</h3>

<p>Puppet agent will automatically restart a service it manages when related
resources are changed, but sometimes services need to be restarted outside of a normal Puppet
configuration run. The mco service command can be used in these cases.
This example restarts the SSH daemon on all
nodes running RedHat:</p>

<pre><code>peadmin@puppetmaster:~$ mco service sshd restart -W osfamily=RedHat
[ ==================================================&gt; ] 2/ 2
---- service summary ----
Nodes: 2 / 2
Statuses: started=2
Elapsed Time: 1.45 s
</code></pre>

<p>The status of the restarted services can be found with:</p>

<pre><code>peadmin@puppetmaster:~$ mco service sshd status -W osfamily=RedHat
[ ==================================================&gt; ] 2 / 2
puppetmaster.example.com               status=running
agent.example.com                      status=running
---- service summary ----
Nodes: 2 / 2
Statuses: started=2
Elapsed Time: 0.26 s
</code></pre>

<h3 id="package">Package</h3>

<p>Similar to the service plugin, the package manages software
packages outside of a normal Puppet configuration run. The
following is the trimmed output of running the
checkupdates action:</p>

<pre><code>peadmin@puppetmaster:~$ mco rpc package checkupdates
Determining the amount of hosts matching filter for 2 seconds .... 2
[ ===================================================&gt; ] 2 / 2
agent.example.com                      
   Outdated Packages:
          Output:
            kernel.i686                 2.6.18-274.7.1.el5          
            openssh.i386                4.3p2-72.el5_7.5            
            openssh-clients.i386        4.3p2-72.el5_7.5            
            openssh-server.i386         4.3p2-72.el5_7.5            
            openssl.i686                0.9.8e-20.el5                
            zlib.i386                   1.2.3-4.el5                  
   Exit Code: 100
   Package Manager: yum

 puppetmaster.example.com              
   Outdated Packages:
          Output:
            kernel.i686                           2.6.18-274.7.1.el5          
            ...
          Exit Code: 0
   Package Manager: yum

 Finished processing 2 / 2 hosts in 1703.97 ms
</code></pre>

<h3 id="controller">Controller</h3>

<p>The mco controller command manages the underlying MCollective
infrastructure. This can be used to load plugins obtained outside
of Puppet Enterprise or custom written for the deployment. This
example reloads all plugins across the Puppet Enterprise
deployment:</p>

<pre><code> peadmin@puppetmaster:~$ mco controller reload_agents
 Determining the amount of hosts matching filter for 2 seconds .... 2
 agent.example.com&gt; reloaded all agents
 puppetmaster.example.com&gt; reloaded all agents
 Finished processing 2 / 2 hosts in 137.86 ms
</code></pre>


            </div>
            <div class="secondary-content">
                  <div id="subCol">
                  
                  
                      <!-- 
<h3 class="chapter">Contents</h3>
                      
<ol class="toc">
  <li class="toc-lv2"><a href="#running-actions">Running Actions</a></li>
  <li class="toc-lv2"><a href="#available-actions">Available Actions</a></li>
  <li class="toc-lv2"><a href="#filtering-nodes">Filtering Nodes</a></li>
  <li class="toc-lv2"><a href="#examples">Examples</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#ping">Ping</a></li>
   <li class="toc-lv3"><a href="#find">Find</a></li>
   <li class="toc-lv3"><a href="#inventory">Inventory</a></li>
   <li class="toc-lv3"><a href="#puppetd">Puppetd</a></li>
   <li class="toc-lv3"><a href="#puppetral">PuppetRAL</a></li>
   <li class="toc-lv3"><a href="#service">Service</a></li>
   <li class="toc-lv3"><a href="#package">Package</a></li>
   <li class="toc-lv3"><a href="#controller">Controller</a></li>
</ol></li>
</ol>
 --> 

<ul>
  <li><strong><a indepth="true" href="welcome_getting_started.html">Welcome to Puppet Enterprise</a></strong><ul style="display: none;">
      <li><a indepth="true" href="welcome_getting_started.html">Getting Started</a></li>
      <li><a indepth="true" href="welcome_roles.html">Components and Roles</a></li>
      <li><a indepth="true" href="welcome_whats_new.html">What’s New</a></li>
      <li><a indepth="true" href="welcome_known_issues.html">Known Issues</a></li>
      <li><a indepth="true" href="welcome_getting_support.html">Getting Support</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="install_system_requirements.html">Installing Puppet Enterprise</a></strong><ul style="display: none;">
      <li><a indepth="true" href="install_system_requirements.html">System Requirements</a></li>
      <li><a indepth="true" href="install_preparing.html">Preparing to Install</a></li>
      <li><a indepth="true" href="install_basic.html">Basic Installation</a></li>
      <li><a indepth="true" href="install_upgrading.html">Upgrading</a></li>
      <li><a indepth="true" href="install_automated.html">Automated Installation</a></li>
      <li><a indepth="true" href="install_answer_file_reference.html">Answer File Reference</a></li>
      <li><a indepth="true" href="install_what_and_where.html">What gets installed where?</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="console_accessing.html">The Console</a></strong><ul style="display: none;">
      <li><a indepth="true" href="console_accessing.html">Accessing the Console</a></li>
      <li><a indepth="true" href="console_navigating.html">Navigating the Console</a></li>
      <li><a indepth="true" href="console_reports.html">Viewing Reports and Inventory Data</a></li>
      <li><a indepth="true" href="console_classes_groups.html">Grouping and Classifying Nodes</a></li>
      <li><a indepth="true" href="console_live.html">Live Management</a></li>
      <li><a indepth="true" href="console_live_resources.html">Live Management: Managing Resources</a></li>
      <li><a indepth="true" href="console_live_puppet.html">Live Management: Controlling Puppet</a></li>
      <li><a indepth="true" href="console_live_advanced.html">Live Management: Advanced Tasks</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="puppet_overview.html">Puppet For New PE Users</a></strong><ul style="display: none;">
      <li><a indepth="true" href="puppet_overview.html">Overview</a></li>
      <li><a indepth="true" href="puppet_first_module.html">Your First Module</a></li>
      <li><a indepth="true" href="puppet_classifying.html">Assigning a Class to a Node</a></li>
      <li><a indepth="true" href="puppet_next_steps.html">Next Steps</a></li>
    </ul>
  </li>
  <li class="currentsection"><strong>Orchestration For New PE Users</strong><ul>
      <li><a indepth="true" href="orchestration_overview.html">Overview</a></li>
      <li class="currentpage"><strong><em>Usage and Examples:</em></strong>
<ol class="toc">
  <li class="toc-lv2"><a href="#running-actions">Running Actions</a></li>
  <li class="toc-lv2"><a href="#available-actions">Available Actions</a></li>
  <li class="toc-lv2"><a href="#filtering-nodes">Filtering Nodes</a></li>
  <li class="toc-lv2"><a href="#examples">Examples</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#ping">Ping</a></li>
   <li class="toc-lv3"><a href="#find">Find</a></li>
   <li class="toc-lv3"><a href="#inventory">Inventory</a></li>
   <li class="toc-lv3"><a href="#puppetd">Puppetd</a></li>
   <li class="toc-lv3"><a href="#puppetral">PuppetRAL</a></li>
   <li class="toc-lv3"><a href="#service">Service</a></li>
   <li class="toc-lv3"><a href="#package">Package</a></li>
   <li class="toc-lv3"><a href="#controller">Controller</a></li>
</ol></li>
</ol></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="cloudprovisioner_overview.html">Cloud Provisioning</a></strong><ul style="display: none;">
      <li><a indepth="true" href="cloudprovisioner_overview.html">Overview</a></li>
      <li><a indepth="true" href="cloudprovisioner_configuring.html">Configuring and Troubleshooting</a></li>
      <li><a indepth="true" href="cloudprovisioner_vmware.html">Provisioning with VMware</a></li>
      <li><a indepth="true" href="cloudprovisioner_aws.html">Provisioning with AWS</a></li>
      <li><a indepth="true" href="cloudprovisioner_classifying_installing.html">Classifying Nodes and Remotely Installing PE</a></li>
      <li><a indepth="true" href="cloudprovisioner_man_node_vmware.html">Man Page: node_vmware</a></li>
      <li><a indepth="true" href="cloudprovisioner_man_node_aws.html">Man Page: node_aws</a></li>
      <li><a indepth="true" href="cloudprovisioner_man_node.html">Man Page: node</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="compliance_basics.html">The Compliance Workflow</a></strong><ul style="display: none;">
      <li><a indepth="true" href="compliance_basics.html">Basics and UI</a></li>
      <li><a indepth="true" href="compliance_using.html">Using the Compliance Workflow</a></li>
      <li><a indepth="true" href="compliance_tutorial.html">Tutorial</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="accounts_user_type.html">The PE Accounts Module</a></strong><ul style="display: none;">
      <li><a indepth="true" href="accounts_user_type.html">The <code>pe_accounts::user</code> Type</a></li>
      <li><a indepth="true" href="accounts_class.html">The <code>pe_accounts</code> Class</a></li>
    </ul>
  </li>
  <li><strong><a indepth="true" href="maint_common_config_errors.html">Maintenance and Troubleshooting</a></strong><ul style="display: none;">
      <li><a indepth="true" href="maint_common_config_errors.html">Common Configuration Errors</a></li>
      <li><a indepth="true" href="maint_maintaining_console.html">Console Maintenance Tasks</a></li>
      <li><a indepth="true" href="maint_installing_additional.html">Installing Additional Components</a></li>
      <li><a indepth="true" href="maint_reconfiguring.html">Reconfiguring Complex Settings</a></li>
    </ul>
  </li>
</ul>

                  
                                        <!-- New Ads are inserted here -->
		  			<div id="bannerImage" style="display: block;">&nbsp;</div>
                  </div>
            </div>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers &amp; consultants</a>
                  </p><p>  
		</p><h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>
              
				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save" ;="" id="mktForm_1013" name="mktForm_1013">
				
				<label>Email Address:</label><span class="mktInput"><input class="mktFormText mktFormEmail" name="Email" id="Email" value="" maxlength="255" type="text"><span class="mktFormMsg"></span></span>
				
				<input id="mktFrmSubmit" class="btn" style="width: auto; overflow: visible; padding-left: 0.25em; padding-right: 0.25em;" value="Subscribe" name="submitButton" onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' type="submit">
				
				<input style="display: none;" id="mktFrmReset" value="Clear" name="resetButton" onclick='formReset(document.getElementById("mktForm_1013")); return false;' type="reset">
	
				<span style="display: none;"><input name="_marketo_comments" value="" type="text"></span>
				<input name="lpId" value="-1" type="hidden">
				<input name="subId" value="100" type="hidden">

				<input name="kw" value="" type="hidden">
				<input name="cr" value="" type="hidden">
				
				<input name="searchstr" value="" type="hidden">
				<input name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&amp;kw={keyword}" ;="" type="hidden">
				<input name="formid" value="1013" type="hidden">
				<input name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/" ;="" type="hidden">
				<input name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/" ;="" type="hidden">
				<input name="_mkt_disp" value="return" type="hidden">
				<input name="_mkt_trk" value="" type="hidden">

				</form>
				
				
				
              
<a indepth="true" href="puppet-enterprise.html" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a indepth="true" href="default.html" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>
                
                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>	

              </ul>
		<p>
		              		</p><h4>Follow us…</h4>

              		<ul class="followus">

					
			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_top"><img src="rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_top"><img src="facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_top"><img src="twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_top"><img src="linkedin_in_icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_top"><img src="github_icon.png" border="0"></a></li>
					</ul>

              	<p></p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>Written by James Turnbull and Jeff McCune, <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="propuppetthumb.png"></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        © 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">411 NW Park Avenue</span>
           /
           <span class="locality">Portland</span>, 
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>          
      </div>
    </div>
      
    
  	
  	

	
        


</body></html>
