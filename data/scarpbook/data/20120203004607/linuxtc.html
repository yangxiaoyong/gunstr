<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Linux Traffic Control</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79"><link rel="HOME" title="A Practical Guide to Linux Traffic Control" href="http://blog.edseek.com/%7Ejasonb/articles/traffic_shaping/index.html"><link rel="PREVIOUS" title="Introduction to QoS" href="http://blog.edseek.com/%7Ejasonb/articles/traffic_shaping/qosintro.html"><link rel="NEXT" title="Class Structure Revealed" href="http://blog.edseek.com/%7Ejasonb/articles/traffic_shaping/classes.html"></head>
<body class="sect1" bgcolor="#FFFFFF" link="#0000FF" text="#000000" vlink="#840084" alink="#0000FF"><div class="NAVHEADER"><table summary="Header navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><th colspan="3" align="center">A Practical Guide to Linux Traffic Control</th></tr><tr><td valign="bottom" width="10%" align="left"><a indepth="true" href="qosintro.html" accesskey="P">Prev</a></td><td valign="bottom" width="80%" align="center"></td><td valign="bottom" width="10%" align="right"><a indepth="true" href="classes.html" accesskey="N">Next</a></td></tr></tbody></table><hr width="100%" align="LEFT"></div><div class="sect1"><h1 class="sect1"><a name="linuxtc">3. Linux Traffic Control</a></h1><p>
Traffic control capabilities have been available in the Linux kernel since the 2.2 series.  Since then it has matured greatly.  Shaping configurations are implemented using a variety of available packet schedulers and shapers which can be configured using the tc binary included in the iproute2 package of tools.  qdisc is the term used to refer to these schedulers under Linux.
</p><div class="sect2"><h2 class="sect2"><a name="qdisc">3.1. The Qdisc</a></h2><p>
The Linux traffic shaping implementation allows you to build arbitrarily complicated configurations, based upon the building block of the qdisc.  You can choose from two kinds of qdiscs:  classless and classful.  By default, all Ethernet interfaces get a classless qdisc for free, which is essentially a FIFO.  You will likely replace this with something more interesting.  Classful qdiscs, on the other hand, can contain classes to arbitrary levels of depth.  Leaf classes, those which are not parents of additional classes, hold a default FIFO style qdisc.  Classless qdiscs are schedulers.  Classful qdiscs are generally shapers, but some schedule as well.
</p></div><div class="sect2"><h2 class="sect2"><a name="hooks">3.2. Hooks</a></h2><p>
Each network interface effectively has two places where you can attach qdiscs:  root and ingress. root is essentially a synonym for egress.  The distinction between these two hooks into Linux QoS is essential.  The root hook sits on the inside of your Ethernet interface.  You can effectively apply traffic classification and scheduling against the root hook as any queue you create is under your control.  The ingress hook rests on the outside of your Ethernet interface.  You cannot shape this traffic, but merely throttle it, because it has already arrived.  What follows is a discussion of utilizing the former, the root hook.
</p></div></div><div class="NAVFOOTER"><hr width="100%" align="LEFT"><table summary="Footer navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td valign="top" width="33%" align="left"><a indepth="true" href="qosintro.html" accesskey="P">Prev</a></td><td valign="top" width="34%" align="center"><a href="http://blog.edseek.com/%7Ejasonb/articles/traffic_shaping/index.html" accesskey="H">Home</a></td><td valign="top" width="33%" align="right"><a indepth="true" href="classes.html" accesskey="N">Next</a></td></tr><tr><td valign="top" width="33%" align="left">Introduction to QoS</td><td valign="top" width="34%" align="center">&nbsp;</td><td valign="top" width="33%" align="right">Class Structure Revealed</td></tr></tbody></table></div>

</body></html>
