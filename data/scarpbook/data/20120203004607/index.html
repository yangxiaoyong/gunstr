<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>A Practical Guide to Linux Traffic Control</title><meta name="GENERATOR" content="Modular DocBook HTML Stylesheet Version 1.79"><link rel="NEXT" title="Introduction" href="http://blog.edseek.com/%7Ejasonb/articles/traffic_shaping/introduction.html"></head>
<body class="article" bgcolor="#FFFFFF" link="#0000FF" text="#000000" vlink="#840084" alink="#0000FF"><div class="ARTICLE"><div class="TITLEPAGE"><h1 class="title"><a name="AEN2">A Practical Guide to Linux Traffic Control</a></h1><h3 class="author"><a name="AEN4">Jason Boxman</a></h3><div class="affiliation"><div class="address"><p class="address"><code class="email">&lt;<a href="mailto:jasonb@edseek.com">jasonb@edseek.com</a>&gt;</code></p></div></div><div class="revhistory"><table border="0" width="100%"><tbody><tr><th colspan="3" valign="TOP" align="LEFT"><b>Revision History</b></th></tr><tr><td align="LEFT">Revision 1.01</td><td align="LEFT">2005-02-15</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Added subsection for flow discovery and prio qdisc text edit</td></tr><tr><td align="LEFT">Revision 1.0</td><td align="LEFT">2004-11-30</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Rewrote scenarios section with corrected examples; Added basic information on u32 selector</td></tr><tr><td align="LEFT">Revision 0.95</td><td align="LEFT">2004-11-11</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Added section covering monitoring and graphing for traffic control configurations</td></tr><tr><td align="LEFT">Revision 0.90</td><td align="LEFT">2004-10-30</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Inserted graphics for class structure explanation; Added information about classful tbf qdisc</td></tr><tr><td align="LEFT">Revision 0.87</td><td align="LEFT">2004-10-23</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Corrected and clarified class structure examples; corrected a URL</td></tr><tr><td align="LEFT">Revision 0.86</td><td align="LEFT">2004-10-07</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Updated kernel configuration information for 2.6.9</td></tr><tr><td align="LEFT">Revision 0.85</td><td align="LEFT">2004-09-28</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Clarified some points; Emphasized key terms</td></tr><tr><td align="LEFT">Revision 0.81</td><td align="LEFT">2004-08-21</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">More grammatic corrections; Fixed an erroneous example</td></tr><tr><td align="LEFT">Revision 0.8</td><td align="LEFT">2004-08-02</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Checked spelling and grammatic corrections</td></tr><tr><td align="LEFT">Revision 0.7</td><td align="LEFT">2004-07-13</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Added scenarios</td></tr><tr><td align="LEFT">Revision 0.6</td><td align="LEFT">2004-06-30</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Added more notes to marking section; introduced kernel tuning options</td></tr><tr><td align="LEFT">Revision 0.5</td><td align="LEFT">2004-06-22</td><td align="LEFT">Revised by: jab</td></tr><tr><td colspan="3" align="LEFT">Converted to DocBook XML; Added information on marking traffic flows</td></tr></tbody></table></div><div><div class="abstract"><p></p><a name="AEN71"></a><p>
An overview discussion of basic traffic control on Linux for the experienced systems administrator.  The core concepts are touched on briefly to get the reader up to speed quickly.  Functional configurations and practical examples are presented to avoid common issues by providing solutions.
</p><p></p></div></div><hr></div><div class="TOC"><dl><dt><b>Table of Contents</b></dt><dt>1. <a indepth="true" href="introduction.html">Introduction</a></dt><dd><dl><dt>1.1. <a indepth="true" href="introduction.html#who">Intended Audience</a></dt><dt>1.2. <a indepth="true" href="introduction.html#copyright">Copyright and License</a></dt><dt>1.3. <a indepth="true" href="introduction.html#disclaimer">Disclaimer</a></dt><dt>1.4. <a indepth="true" href="introduction.html#feedback">Feedback</a></dt><dt>1.5. <a indepth="true" href="introduction.html#updates">New Versions of this Document</a></dt><dt>1.6. <a indepth="true" href="introduction.html#credits">Credits</a></dt></dl></dd><dt>2. <a indepth="true" href="qosintro.html">Introduction to QoS</a></dt><dd><dl><dt>2.1. <a indepth="true" href="qosintro.html#whatis">What is QoS?</a></dt><dt>2.2. <a indepth="true" href="qosintro.html#overview">Traffic Control Overview</a></dt></dl></dd><dt>3. <a indepth="true" href="linuxtc.html">Linux Traffic Control</a></dt><dd><dl><dt>3.1. <a indepth="true" href="linuxtc.html#qdisc">The Qdisc</a></dt><dt>3.2. <a indepth="true" href="linuxtc.html#hooks">Hooks</a></dt></dl></dd><dt>4. <a indepth="true" href="classes.html">Class Structure Revealed</a></dt><dd><dl><dt>4.1. <a indepth="true" href="classes.html#classlessqdisc">A Classless qdisc</a></dt><dt>4.2. <a indepth="true" href="classes.html#classfulqdisc">A Classful qdisc</a></dt><dt>4.3. <a indepth="true" href="classes.html#qdiscex">A Combined Example</a></dt><dt>4.4. <a indepth="true" href="classes.html#qdiscdetails">Displaying qdisc and class Details</a></dt></dl></dd><dt>5. <a indepth="true" href="qdiscs.html">An Overview of Common qdiscs</a></dt><dd><dl><dt>5.1. <a indepth="true" href="qdiscs.html#qclassless">Classless qdiscs</a></dt><dt>5.2. <a indepth="true" href="qdiscs.html#qclassful">Classful qdiscs</a></dt></dl></dd><dt>6. <a indepth="true" href="classflows.html">Classifying Flows</a></dt><dd><dl><dt>6.1. <a indepth="true" href="classflows.html#iptu32">Using tc and the u32 selector</a></dt><dt>6.2. <a indepth="true" href="classflows.html#iptclassify">Using the Netfilter CLASSIFY Target</a></dt><dt>6.3. <a indepth="true" href="classflows.html#iptmark">Using the Netfilter MARK Target</a></dt><dt>6.4. <a indepth="true" href="classflows.html#iptl7">Using the L7 Filter Netfilter Module</a></dt></dl></dd><dt>7. <a indepth="true" href="buildkernel.html">Building a QoS Ready Kernel</a></dt><dd><dl><dt>7.1. <a indepth="true" href="buildkernel.html#tcopts">Kernel Options for Traffic Control Support</a></dt><dt>7.2. <a indepth="true" href="buildkernel.html#netopts">Kernel Options for Netfilter Support</a></dt><dt>7.3. <a indepth="true" href="buildkernel.html#sourceopts">Kernel Source Changes</a></dt></dl></dd><dt>8. <a indepth="true" href="scenarios.html">A Traffic Control Journey: Real World Scenarios</a></dt><dd><dl><dt>8.1. <a indepth="true" href="scenarios.html#AEN546">Common Traffic Control Situations</a></dt><dt>8.2. <a indepth="true" href="scenarios.html#guarrate">Guaranteeing Rate</a></dt><dt>8.3. <a indepth="true" href="scenarios.html#guarprio">Guaranteeing Priority</a></dt></dl></dd><dt>9. <a indepth="true" href="monitoring.html">Graphing and Monitoring Traffic Control</a></dt><dd><dl><dt>9.1. <a indepth="true" href="monitoring.html#discover">Discovering Traffic Flows</a></dt><dt>9.2. <a indepth="true" href="monitoring.html#graphing">Graphing Your Traffic Control Hierarchy</a></dt><dt>9.3. <a indepth="true" href="monitoring.html#monitor">Monitoring Leaf qdisc Bandwidth Utilization</a></dt></dl></dd><dt>10. <a indepth="true" href="links.html">Suggested Reading for Further Study</a></dt></dl></div></div><div class="NAVFOOTER"><hr width="100%" align="LEFT"><table summary="Footer navigation table" border="0" cellpadding="0" cellspacing="0" width="100%"><tbody><tr><td valign="top" width="33%" align="left">&nbsp;</td><td valign="top" width="34%" align="center">&nbsp;</td><td valign="top" width="33%" align="right"><a indepth="true" href="introduction.html" accesskey="N">Next</a></td></tr><tr><td valign="top" width="33%" align="left">&nbsp;</td><td valign="top" width="34%" align="center">&nbsp;</td><td valign="top" width="33%" align="right">Introduction</td></tr></tbody></table></div>

</body></html>
