<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    
    <title>tornado.web — RequestHandler and Application classes — Tornado v2.1.1 documentation</title>
    
    
    
    
    
    
    <link rel="top" title="Tornado v2.1.1 documentation" href="http://en.tornadoweb.cn/documentation/index.html">
    <link rel="up" title="Core web framework" href="http://en.tornadoweb.cn/documentation/webframework.html">
    <link rel="next" title="tornado.httpserver — Non-blocking HTTP server" href="http://en.tornadoweb.cn/documentation/httpserver.html">
    <link rel="prev" title="Core web framework" href="http://en.tornadoweb.cn/documentation/webframework.html"> 
  
<link rel="stylesheet" type="text/css" href="web.css" media="all">
</head>
<body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px;">
          <a indepth="true" href="genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a indepth="true" href="py-modindex.html" title="Python Module Index">modules</a> |</li>
        <li class="right">
          <a indepth="true" href="httpserver.html" title="tornado.httpserver — Non-blocking HTTP server" accesskey="N">next</a> |</li>
        <li class="right">
          <a indepth="true" href="webframework.html" title="Core web framework" accesskey="P">previous</a> |</li>
        <li><a indepth="true" href="index.html">Tornado v2.1.1 documentation</a> »</li>
          <li><a indepth="true" href="webframework.html" accesskey="U">Core web framework</a> »</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-tornado.web">
<span id="tornado-web-requesthandler-and-application-classes"></span><h1><tt class="docutils literal"><span class="pre">tornado.web</span></tt> — <tt class="docutils literal"><span class="pre">RequestHandler</span></tt> and <tt class="docutils literal"><span class="pre">Application</span></tt> classes<a class="headerlink" href="#module-tornado.web" title="Permalink to this headline">¶</a></h1>
<p>The Tornado web framework looks a bit like web.py (<a class="reference external" href="http://webpy.org/">http://webpy.org/</a>) or
Google’s webapp (<a class="reference external" href="http://code.google.com/appengine/docs/python/tools/webapp/">http://code.google.com/appengine/docs/python/tools/webapp/</a>),
but with additional tools and optimizations to take advantage of the
Tornado non-blocking web server and tools.</p>
<p>Here is the canonical “Hello, world” example app:</p>
<div class="highlight-none"><div class="highlight"><pre>import tornado.ioloop
import tornado.web

class MainHandler(tornado.web.RequestHandler):
    def get(self):
        self.write("Hello, world")

if __name__ == "__main__":
    application = tornado.web.Application([
        (r"/", MainHandler),
    ])
    application.listen(8888)
    tornado.ioloop.IOLoop.instance().start()
</pre></div>
</div>
<p>See the Tornado walkthrough on <a class="reference external" href="http://tornadoweb.org/">http://tornadoweb.org</a> for more details
and a good getting started guide.</p>
<div class="section" id="thread-safety-notes">
<h2>Thread-safety notes<a class="headerlink" href="#thread-safety-notes" title="Permalink to this headline">¶</a></h2>
<p>In general, methods on RequestHandler and elsewhere in tornado are not
thread-safe.  In particular, methods such as write(), finish(), and
flush() must only be called from the main thread.  If you use multiple
threads it is important to use IOLoop.add_callback to transfer control
back to the main thread before finishing the request.</p>
</div>
<div class="section" id="request-handlers">
<h2>Request handlers<a class="headerlink" href="#request-handlers" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tornado.web.RequestHandler">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">RequestHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclass this class and define get() or post() to make a handler.</p>
<p>If you want to support more methods than the standard GET/HEAD/POST, you
should override the class variable SUPPORTED_METHODS in your
RequestHandler class.</p>
</dd></dl>

<div class="section" id="entry-points">
<h3>Entry points<a class="headerlink" href="#entry-points" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="tornado.web.RequestHandler.initialize">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">initialize</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook for subclass initialization.</p>
<p>A dictionary passed as the third argument of a url spec will be
supplied as keyword arguments to initialize().</p>
<p>Example:</p>
<div class="highlight-none"><div class="highlight"><pre>class ProfileHandler(RequestHandler):
    def initialize(self, database):
        self.database = database

    def get(self, username):
        ...

app = Application([
    (r'/user/(.*)', ProfileHandler, dict(database=database)),
    ])
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.prepare">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">prepare</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.prepare"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Called before the actual handler method.</p>
<p>Useful to override in a handler if you want a common bottleneck for
all of your requests.</p>
</dd></dl>

<p>Implement any of the following methods to handle the corresponding
HTTP method.</p>
<dl class="method">
<dt id="tornado.web.RequestHandler.get">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.post">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">post</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.put">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">put</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.delete">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">delete</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.delete"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.delete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.head">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">head</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.options">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">options</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.options"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="input">
<h3>Input<a class="headerlink" href="#input" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="tornado.web.RequestHandler.get_argument">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_argument</tt><big>(</big><em>name</em>, <em>default=</em><span class="optional">[</span><span class="optional">]</span>, <em>strip=True</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the argument with the given name.</p>
<p>If default is not provided, the argument is considered to be
required, and we throw an HTTP 400 exception if it is missing.</p>
<p>If the argument appears in the url more than once, we return the
last value.</p>
<p>The returned value is always unicode.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_arguments">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_arguments</tt><big>(</big><em>name</em>, <em>strip=True</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_arguments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the arguments with the given name.</p>
<p>If the argument is not present, returns an empty list.</p>
<p>The returned values are always unicode.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.decode_argument">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">decode_argument</tt><big>(</big><em>value</em>, <em>name=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.decode_argument"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.decode_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Decodes an argument from the request.</p>
<p>The argument has been percent-decoded and is now a byte string.
By default, this method decodes the argument as utf-8 and returns
a unicode string, but this may be overridden in subclasses.</p>
<p>This method is used as a filter for both get_argument() and for
values extracted from the url and passed to get()/post()/etc.</p>
<p>The name of the argument is provided if known, but may be None
(e.g. for unnamed groups in the url regex).</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.request">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">request</tt><a class="headerlink" href="#tornado.web.RequestHandler.request" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a indepth="true" class="reference internal" href="httpserver.html#tornado.httpserver.HTTPRequest" title="tornado.httpserver.HTTPRequest"><tt class="xref py py-obj docutils literal"><span class="pre">tornado.httpserver.HTTPRequest</span></tt></a> object containing additional
request parameters including e.g. headers and body data.</p>
</dd></dl>

</div>
<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<dl class="method">
<dt id="tornado.web.RequestHandler.set_status">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">set_status</tt><big>(</big><em>status_code</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.set_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the status code for our response.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_header">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">set_header</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.set_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given response header name and value.</p>
<p>If a datetime is given, we automatically format it according to the
HTTP specification. If the value is not a string, we convert it to
a string. All header values are then encoded as UTF-8.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.add_header">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">add_header</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.add_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.add_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given response header and value.</p>
<p>Unlike <a class="reference internal" href="#tornado.web.RequestHandler.set_header" title="tornado.web.RequestHandler.set_header"><tt class="xref py py-obj docutils literal"><span class="pre">set_header</span></tt></a>, <a class="reference internal" href="#tornado.web.RequestHandler.add_header" title="tornado.web.RequestHandler.add_header"><tt class="xref py py-obj docutils literal"><span class="pre">add_header</span></tt></a> may be called multiple times
to return multiple values for the same header.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_default_headers">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">set_default_headers</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.set_default_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_default_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Override this to set HTTP headers at the beginning of the request.</p>
<p>For example, this is the place to set a custom <tt class="docutils literal"><span class="pre">Server</span></tt> header.
Note that setting such headers in the normal flow of request
processing may not do what you want, since headers may be reset
during error handling.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.write">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">write</tt><big>(</big><em>chunk</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given chunk to the output buffer.</p>
<p>To write the output to the network, use the flush() method below.</p>
<p>If the given chunk is a dictionary, we write it as JSON and set
the Content-Type of the response to be application/json.
(if you want to send JSON as a different Content-Type, call
set_header <em>after</em> calling write()).</p>
<p>Note that lists are not converted to JSON because of a potential
cross-site security vulnerability.  All JSON output should be
wrapped in a dictionary.  More details at
<a class="reference external" href="http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx">http://haacked.com/archive/2008/11/20/anatomy-of-a-subtle-json-vulnerability.aspx</a></p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.flush">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">flush</tt><big>(</big><em>include_footers=False</em>, <em>callback=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Flushes the current output buffer to the network.</p>
<p>The <tt class="docutils literal"><span class="pre">callback</span></tt> argument, if given, can be used for flow control:
it will be run when all flushed data has been written to the socket.
Note that only one flush callback can be outstanding at a time;
if another flush occurs before the previous flush’s callback
has been run, the previous callback will be discarded.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.finish">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">finish</tt><big>(</big><em>chunk=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.finish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.finish" title="Permalink to this definition">¶</a></dt>
<dd><p>Finishes this response, ending the HTTP request.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">render</tt><big>(</big><em>template_name</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the template with the given arguments as the response.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.render_string">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">render_string</tt><big>(</big><em>template_name</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.render_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the given template with the given arguments.</p>
<p>We return the generated string. To generate and write a template
as a response, use render() above.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.redirect">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">redirect</tt><big>(</big><em>url</em>, <em>permanent=False</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a redirect to the given (optionally relative) URL.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.send_error">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">send_error</tt><big>(</big><em>status_code=500</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.send_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.send_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the given HTTP error code to the browser.</p>
<p>If <a class="reference internal" href="#tornado.web.RequestHandler.flush" title="tornado.web.RequestHandler.flush"><tt class="xref py py-obj docutils literal"><span class="pre">flush()</span></tt></a> has already been called, it is not possible to send
an error, so this method will simply terminate the response.
If output has been written but not yet flushed, it will be discarded
and replaced with the error page.</p>
<p>Override <a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><tt class="xref py py-obj docutils literal"><span class="pre">write_error()</span></tt></a> to customize the error page that is returned.
Additional keyword arguments are passed through to <a class="reference internal" href="#tornado.web.RequestHandler.write_error" title="tornado.web.RequestHandler.write_error"><tt class="xref py py-obj docutils literal"><span class="pre">write_error</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.write_error">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">write_error</tt><big>(</big><em>status_code</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.write_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.write_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to implement custom error pages.</p>
<p><tt class="docutils literal"><span class="pre">write_error</span></tt> may call <a class="reference internal" href="#tornado.web.RequestHandler.write" title="tornado.web.RequestHandler.write"><tt class="xref py py-obj docutils literal"><span class="pre">write</span></tt></a>, <a class="reference internal" href="#tornado.web.RequestHandler.render" title="tornado.web.RequestHandler.render"><tt class="xref py py-obj docutils literal"><span class="pre">render</span></tt></a>, <a class="reference internal" href="#tornado.web.RequestHandler.set_header" title="tornado.web.RequestHandler.set_header"><tt class="xref py py-obj docutils literal"><span class="pre">set_header</span></tt></a>, etc
to produce output as usual.</p>
<p>If this error was caused by an uncaught exception, an <tt class="docutils literal"><span class="pre">exc_info</span></tt>
triple will be available as <tt class="docutils literal"><span class="pre">kwargs["exc_info"]</span></tt>.  Note that this
exception may not be the “current” exception for purposes of
methods like <tt class="docutils literal"><span class="pre">sys.exc_info()</span></tt> or <tt class="docutils literal"><span class="pre">traceback.format_exc</span></tt>.</p>
<p>For historical reasons, if a method <tt class="docutils literal"><span class="pre">get_error_html</span></tt> exists,
it will be used instead of the default <tt class="docutils literal"><span class="pre">write_error</span></tt> implementation.
<tt class="docutils literal"><span class="pre">get_error_html</span></tt> returned a string instead of producing output
normally, and had different semantics for exception handling.
Users of <tt class="docutils literal"><span class="pre">get_error_html</span></tt> are encouraged to convert their code
to override <tt class="docutils literal"><span class="pre">write_error</span></tt> instead.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">clear</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all headers and content for this response.</p>
</dd></dl>

</div>
<div class="section" id="cookies">
<h3>Cookies<a class="headerlink" href="#cookies" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="tornado.web.RequestHandler.cookies">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">cookies</tt><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.cookies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.cookies" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_cookie</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the value of the cookie with the given name, else default.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">set_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>domain=None</em>, <em>expires=None</em>, <em>path='/'</em>, <em>expires_days=None</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.set_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the given cookie name/value with the given options.</p>
<p>Additional keyword arguments are set on the Cookie.Morsel
directly.
See <a class="reference external" href="http://docs.python.org/library/cookie.html#morsel-objects">http://docs.python.org/library/cookie.html#morsel-objects</a>
for available attributes.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">clear_cookie</tt><big>(</big><em>name</em>, <em>path='/'</em>, <em>domain=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.clear_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the cookie with the given name.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.clear_all_cookies">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">clear_all_cookies</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.clear_all_cookies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.clear_all_cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes all the cookies the user sent with this request.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_secure_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_secure_cookie</tt><big>(</big><em>name</em>, <em>value=None</em>, <em>max_age_days=31</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the given signed cookie if it validates, or None.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.set_secure_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">set_secure_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>expires_days=30</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.set_secure_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.set_secure_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a cookie so it cannot be forged.</p>
<p>You must specify the <tt class="docutils literal"><span class="pre">cookie_secret</span></tt> setting in your Application
to use this method. It should be a long, random sequence of bytes
to be used as the HMAC secret for the signature.</p>
<p>To read a cookie set with this method, use <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><tt class="xref py py-obj docutils literal"><span class="pre">get_secure_cookie()</span></tt></a>.</p>
<p>Note that the <tt class="docutils literal"><span class="pre">expires_days</span></tt> parameter sets the lifetime of the
cookie in the browser, but is independent of the <tt class="docutils literal"><span class="pre">max_age_days</span></tt>
parameter to <a class="reference internal" href="#tornado.web.RequestHandler.get_secure_cookie" title="tornado.web.RequestHandler.get_secure_cookie"><tt class="xref py py-obj docutils literal"><span class="pre">get_secure_cookie</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.create_signed_value">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">create_signed_value</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.create_signed_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.create_signed_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Signs and timestamps a string so it cannot be forged.</p>
<p>Normally used via set_secure_cookie, but provided as a separate
method for non-cookie uses.  To decode a value not stored
as a cookie use the optional value argument to get_secure_cookie.</p>
</dd></dl>

</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="Permalink to this headline">¶</a></h3>
<dl class="attribute">
<dt id="tornado.web.RequestHandler.application">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">application</tt><a class="headerlink" href="#tornado.web.RequestHandler.application" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference internal" href="#tornado.web.Application" title="tornado.web.Application"><tt class="xref py py-obj docutils literal"><span class="pre">Application</span></tt></a> object serving this request</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.async_callback">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">async_callback</tt><big>(</big><em>callback</em>, <em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.async_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.async_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Obsolete - catches exceptions from the wrapped function.</p>
<p>This function is unnecessary since Tornado 1.1.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.check_xsrf_cookie">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">check_xsrf_cookie</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.check_xsrf_cookie"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.check_xsrf_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies that the ‘_xsrf’ cookie matches the ‘_xsrf’ argument.</p>
<p>To prevent cross-site request forgery, we set an ‘_xsrf’
cookie and include the same value as a non-cookie
field with all POST requests. If the two do not match, we
reject the form submission as a potential forgery.</p>
<p>The _xsrf value may be set as either a form field named _xsrf
or in a custom HTTP header named X-XSRFToken or X-CSRFToken
(the latter is accepted for compatibility with Django).</p>
<p>See <a class="reference external" href="http://en.wikipedia.org/wiki/Cross-site_request_forgery">http://en.wikipedia.org/wiki/Cross-site_request_forgery</a></p>
<p>Prior to release 1.1.1, this check was ignored if the HTTP header
“X-Requested-With: XMLHTTPRequest” was present.  This exception
has been shown to be insecure and has been removed.  For more
information please see
<a class="reference external" href="http://www.djangoproject.com/weblog/2011/feb/08/security/">http://www.djangoproject.com/weblog/2011/feb/08/security/</a>
<a class="reference external" href="http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails">http://weblog.rubyonrails.org/2011/2/8/csrf-protection-bypass-in-ruby-on-rails</a></p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.compute_etag">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">compute_etag</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.compute_etag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.compute_etag" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the etag header to be used for this request.</p>
<p>May be overridden to provide custom etag implementations,
or may return None to disable tornado’s default etag support.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_browser_locale">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_browser_locale</tt><big>(</big><em>default='en_US'</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_browser_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_browser_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the user’s locale from Accept-Language header.</p>
<p>See <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4">http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.4</a></p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_current_user">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_current_user</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_current_user"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_current_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the current user from, e.g., a cookie.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_login_url">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_login_url</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_login_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_login_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize the login URL based on the request.</p>
<p>By default, we use the ‘login_url’ application setting.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_status">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_status</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the status code for our response.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_template_path">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_template_path</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_template_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_template_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize template path for each handler.</p>
<p>By default, we use the ‘template_path’ application setting.
Return None to load templates relative to the calling file.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.get_user_locale">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">get_user_locale</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.get_user_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.get_user_locale" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to determine the locale from the authenticated user.</p>
<p>If None is returned, we fall back to get_browser_locale().</p>
<p>This method should return a tornado.locale.Locale object,
most likely obtained via a call like tornado.locale.get(“en”)</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.on_connection_close">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">on_connection_close</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.on_connection_close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.on_connection_close" title="Permalink to this definition">¶</a></dt>
<dd><p>Called in async handlers if the client closed the connection.</p>
<p>You may override this to clean up resources associated with
long-lived connections.</p>
<p>Proxies may keep a connection open for a time (perhaps
indefinitely) after the client has gone away, so this method
may not be called promptly after the end user closes their
connection.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.require_setting">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">require_setting</tt><big>(</big><em>name</em>, <em>feature='this feature'</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.require_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.require_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an exception if the given app setting is not defined.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.reverse_url">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">reverse_url</tt><big>(</big><em>name</em>, <em>*args</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.reverse_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <a class="reference internal" href="#tornado.web.Application.reverse_url" title="tornado.web.Application.reverse_url"><tt class="xref py py-obj docutils literal"><span class="pre">Application.reverse_url</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="tornado.web.RequestHandler.settings">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">settings</tt><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <tt class="xref py py-obj docutils literal"><span class="pre">self.application.settings</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.static_url">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">static_url</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.static_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a static URL for the given relative static file path.</p>
<p>This method requires you set the ‘static_path’ setting in your
application (which specifies the root directory of your static
files).</p>
<p>We append ?v=&lt;signature&gt; to the returned URL, which makes our
static file handler set an infinite expiration header on the
returned content. The signature is based on the content of the
file.</p>
<p>If this handler has a “include_host” attribute, we include the
full host for every static URL, including the “<a class="reference external" href="http:///">http://</a>”. Set
this attribute for handlers whose output needs non-relative static
path names.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.RequestHandler.xsrf_form_html">
<tt class="descclassname">RequestHandler.</tt><tt class="descname">xsrf_form_html</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RequestHandler.xsrf_form_html"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RequestHandler.xsrf_form_html" title="Permalink to this definition">¶</a></dt>
<dd><p>An HTML &lt;input/&gt; element to be included with all POST forms.</p>
<p>It defines the _xsrf input value, which we check on all POST
requests to prevent cross-site request forgery. If you have set
the ‘xsrf_cookies’ application setting, you must include this
HTML within all of your HTML forms.</p>
<p>See check_xsrf_cookie() above for more information.</p>
</dd></dl>

</div>
</div>
<div class="section" id="application-configuration">
<h2>Application configuration<a class="headerlink" href="#application-configuration" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tornado.web.Application">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">Application</tt><big>(</big><em>handlers=None</em>, <em>default_host=''</em>, <em>transforms=None</em>, <em>wsgi=False</em>, <em>**settings</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application" title="Permalink to this definition">¶</a></dt>
<dd><p>A collection of request handlers that make up a web application.</p>
<p>Instances of this class are callable and can be passed directly to
HTTPServer to serve the application:</p>
<div class="highlight-none"><div class="highlight"><pre>application = web.Application([
    (r"/", MainPageHandler),
])
http_server = httpserver.HTTPServer(application)
http_server.listen(8080)
ioloop.IOLoop.instance().start()
</pre></div>
</div>
<p>The constructor for this class takes in a list of URLSpec objects
or (regexp, request_class) tuples. When we receive requests, we
iterate over the list in order and instantiate an instance of the
first request class whose regexp matches the request path.</p>
<p>Each tuple can contain an optional third element, which should be a
dictionary if it is present. That dictionary is passed as keyword
arguments to the contructor of the handler. This pattern is used
for the StaticFileHandler below (note that a StaticFileHandler
can be installed automatically with the static_path setting described
below):</p>
<div class="highlight-none"><div class="highlight"><pre>application = web.Application([
    (r"/static/(.*)", web.StaticFileHandler, {"path": "/var/www"}),
])
</pre></div>
</div>
<p>We support virtual hosts with the add_handlers method, which takes in
a host regular expression as the first argument:</p>
<div class="highlight-none"><div class="highlight"><pre>application.add_handlers(r"www\.myhost\.com", [
    (r"/article/([0-9]+)", ArticleHandler),
])
</pre></div>
</div>
<p>You can serve static files by sending the static_path setting as a
keyword argument. We will serve those files from the /static/ URI
(this is configurable with the static_url_prefix setting),
and we will serve /favicon.ico and /robots.txt from the same directory.
A custom subclass of StaticFileHandler can be specified with the
static_handler_class setting.</p>
<dl class="attribute">
<dt id="tornado.web.Application.settings">
<tt class="descname">settings</tt><a class="headerlink" href="#tornado.web.Application.settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Additonal keyword arguments passed to the constructor are saved in the
<a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><tt class="xref py py-obj docutils literal"><span class="pre">settings</span></tt></a> dictionary, and are often referred to in documentation as
“application settings”.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.listen">
<tt class="descname">listen</tt><big>(</big><em>port</em>, <em>address=''</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application.listen"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.listen" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts an HTTP server for this application on the given port.</p>
<p>This is a convenience alias for creating an HTTPServer object
and calling its listen method.  Keyword arguments not
supported by HTTPServer.listen are passed to the HTTPServer
constructor.  For advanced uses (e.g. preforking), do not use
this method; create an HTTPServer and call its bind/start
methods directly.</p>
<p>Note that after calling this method you still need to call
IOLoop.instance().start() to start the server.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.add_handlers">
<tt class="descname">add_handlers</tt><big>(</big><em>host_pattern</em>, <em>host_handlers</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application.add_handlers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.add_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the given handlers to our handler list.</p>
<p>Note that host patterns are processed sequentially in the
order they were added, and only the first matching pattern is
used.  This means that all handlers for a given host must be
added in a single add_handlers call.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.add_transform">
<tt class="descname">add_transform</tt><big>(</big><em>transform_class</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application.add_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.add_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the given OutputTransform to our transform list.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.reverse_url">
<tt class="descname">reverse_url</tt><big>(</big><em>name</em>, <em>*args</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application.reverse_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.reverse_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a URL path for handler named <tt class="xref py py-obj docutils literal"><span class="pre">name</span></tt></p>
<p>The handler must be added to the application as a named URLSpec</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.Application.log_request">
<tt class="descname">log_request</tt><big>(</big><em>handler</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#Application.log_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.Application.log_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes a completed HTTP request to the logs.</p>
<p>By default writes to the python root logger.  To change
this behavior either subclass Application and override this method,
or pass a function in the application settings dictionary as
‘log_function’.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tornado.web.URLSpec">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">URLSpec</tt><big>(</big><em>pattern</em>, <em>handler_class</em>, <em>kwargs={}</em>, <em>name=None</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#URLSpec"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.URLSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies mappings between URLs and handlers.</p>
<p>Creates a URLSpec.</p>
<p>Parameters:</p>
<dl class="docutils">
<dt>pattern: Regular expression to be matched.  Any groups in the regex</dt>
<dd>will be passed in to the handler’s get/post/etc methods as
arguments.</dd>
</dl>
<p>handler_class: RequestHandler subclass to be invoked.</p>
<dl class="docutils">
<dt>kwargs (optional): A dictionary of additional arguments to be passed</dt>
<dd>to the handler’s constructor.</dd>
<dt>name (optional): A name for this handler.  Used by</dt>
<dd>Application.reverse_url.</dd>
</dl>
<p>The <tt class="docutils literal"><span class="pre">URLSpec</span></tt> class is also available under the name <tt class="docutils literal"><span class="pre">tornado.web.url</span></tt>.</p>
</dd></dl>

</div>
<div class="section" id="decorators">
<h2>Decorators<a class="headerlink" href="#decorators" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="tornado.web.asynchronous">
<tt class="descclassname">tornado.web.</tt><tt class="descname">asynchronous</tt><big>(</big><em>method</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#asynchronous"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.asynchronous" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrap request handler methods with this if they are asynchronous.</p>
<p>If this decorator is given, the response is not finished when the
method returns. It is up to the request handler to call self.finish()
to finish the HTTP request. Without this decorator, the request is
automatically finished when the get() or post() method returns.</p>
<div class="highlight-none"><div class="highlight"><pre>class MyRequestHandler(web.RequestHandler):
    @web.asynchronous
    def get(self):
       http = httpclient.AsyncHTTPClient()
       http.fetch("http://friendfeed.com/", self._on_download)

    def _on_download(self, response):
       self.write("Downloaded!")
       self.finish()
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="tornado.web.authenticated">
<tt class="descclassname">tornado.web.</tt><tt class="descname">authenticated</tt><big>(</big><em>method</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate methods with this to require that the user be logged in.</p>
</dd></dl>

<dl class="function">
<dt id="tornado.web.addslash">
<tt class="descclassname">tornado.web.</tt><tt class="descname">addslash</tt><big>(</big><em>method</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#addslash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.addslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to add a missing trailing slash to the request path.</p>
<p>For example, a request to ‘/foo’ would redirect to ‘/foo/’ with this
decorator. Your request handler mapping should use a regular expression
like r’/foo/?’ in conjunction with using the decorator.</p>
</dd></dl>

<dl class="function">
<dt id="tornado.web.removeslash">
<tt class="descclassname">tornado.web.</tt><tt class="descname">removeslash</tt><big>(</big><em>method</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#removeslash"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.removeslash" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this decorator to remove trailing slashes from the request path.</p>
<p>For example, a request to <tt class="docutils literal"><span class="pre">'/foo/'</span></tt> would redirect to <tt class="docutils literal"><span class="pre">'/foo'</span></tt> with this
decorator. Your request handler mapping should use a regular expression
like <tt class="docutils literal"><span class="pre">r'/foo/*'</span></tt> in conjunction with using the decorator.</p>
</dd></dl>

</div>
<div class="section" id="everything-else">
<h2>Everything else<a class="headerlink" href="#everything-else" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="tornado.web.HTTPError">
<em class="property">exception </em><tt class="descclassname">tornado.web.</tt><tt class="descname">HTTPError</tt><big>(</big><em>status_code</em>, <em>log_message=None</em>, <em>*args</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#HTTPError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.HTTPError" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception that will turn into an HTTP error response.</p>
</dd></dl>

<dl class="class">
<dt id="tornado.web.UIModule">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">UIModule</tt><big>(</big><em>handler</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A UI re-usable, modular unit on a page.</p>
<p>UI modules often execute additional queries, and they can include
additional CSS and JavaScript that will be included in the output
page, which is automatically inserted on page render.</p>
<dl class="method">
<dt id="tornado.web.UIModule.render">
<tt class="descname">render</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.render"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Overridden in subclasses to return this module’s output.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.embedded_javascript">
<tt class="descname">embedded_javascript</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.embedded_javascript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.embedded_javascript" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a JavaScript string that will be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.javascript_files">
<tt class="descname">javascript_files</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.javascript_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.javascript_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of JavaScript files required by this module.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.embedded_css">
<tt class="descname">embedded_css</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.embedded_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.embedded_css" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a CSS string that will be embedded in the page.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.css_files">
<tt class="descname">css_files</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.css_files"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.css_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of CSS files required by this module.</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.html_head">
<tt class="descname">html_head</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.html_head"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.html_head" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a CSS string that will be put in the &lt;head/&gt; element</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.html_body">
<tt class="descname">html_body</tt><big>(</big><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.html_body"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.html_body" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an HTML string that will be put in the &lt;body/&gt; element</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.UIModule.render_string">
<tt class="descname">render_string</tt><big>(</big><em>path</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#UIModule.render_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.UIModule.render_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template and returns it as a string.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="tornado.web.ErrorHandler">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">ErrorHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#ErrorHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.ErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an error response with status_code for all requests.</p>
</dd></dl>

<dl class="class">
<dt id="tornado.web.FallbackHandler">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">FallbackHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#FallbackHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.FallbackHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A RequestHandler that wraps another HTTP server callback.</p>
<p>The fallback is a callable object that accepts an HTTPRequest,
such as an Application or tornado.wsgi.WSGIContainer.  This is most
useful to use both tornado RequestHandlers and WSGI in the same server.
Typical usage:</p>
<div class="highlight-none"><div class="highlight"><pre>wsgi_app = tornado.wsgi.WSGIContainer(
    django.core.handlers.wsgi.WSGIHandler())
application = tornado.web.Application([
    (r"/foo", FooHandler),
    (r".*", FallbackHandler, dict(fallback=wsgi_app),
])
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="tornado.web.RedirectHandler">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">RedirectHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#RedirectHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.RedirectHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects the client to the given URL for all GET requests.</p>
<p>You should provide the keyword argument “url” to the handler, e.g.:</p>
<div class="highlight-none"><div class="highlight"><pre>application = web.Application([
    (r"/oldpath", web.RedirectHandler, {"url": "/newpath"}),
])
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="tornado.web.StaticFileHandler">
<em class="property">class </em><tt class="descclassname">tornado.web.</tt><tt class="descname">StaticFileHandler</tt><big>(</big><em>application</em>, <em>request</em>, <em>**kwargs</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#StaticFileHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple handler that can serve static content from a directory.</p>
<p>To map a path to this handler for a static data directory /var/www,
you would add a line to your application like:</p>
<div class="highlight-none"><div class="highlight"><pre>application = web.Application([
    (r"/static/(.*)", web.StaticFileHandler, {"path": "/var/www"}),
])
</pre></div>
</div>
<p>The local root directory of the content should be passed as the “path”
argument to the handler.</p>
<p>To support aggressive browser caching, if the argument “v” is given
with the path, we set an infinite HTTP expiration header. So, if you
want browsers to cache a file indefinitely, send them to, e.g.,
/static/images/myimage.png?v=xxx. Override <tt class="docutils literal"><span class="pre">get_cache_time</span></tt> method for
more fine-grained cache control.</p>
<dl class="method">
<dt id="tornado.web.StaticFileHandler.set_extra_headers">
<tt class="descname">set_extra_headers</tt><big>(</big><em>path</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#StaticFileHandler.set_extra_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.set_extra_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>For subclass to add extra headers to the response</p>
</dd></dl>

<dl class="method">
<dt id="tornado.web.StaticFileHandler.get_cache_time">
<tt class="descname">get_cache_time</tt><big>(</big><em>path</em>, <em>modified</em>, <em>mime_type</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#StaticFileHandler.get_cache_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.get_cache_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Override to customize cache control behavior.</p>
<p>Return a positive number of seconds to trigger aggressive caching or 0
to mark resource as cacheable, only.</p>
<p>By default returns cache expiry of 10 years for resources requested
with “v” argument.</p>
</dd></dl>

<dl class="classmethod">
<dt id="tornado.web.StaticFileHandler.make_static_url">
<em class="property">classmethod </em><tt class="descname">make_static_url</tt><big>(</big><em>settings</em>, <em>path</em><big>)</big><a class="reference internal" href="http://en.tornadoweb.cn/documentation/_modules/tornado/web.html#StaticFileHandler.make_static_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#tornado.web.StaticFileHandler.make_static_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a versioned url for the given path.</p>
<p>This method may be overridden in subclasses (but note that it is
a class method rather than an instance method).</p>
<p><tt class="docutils literal"><span class="pre">settings</span></tt> is the <a class="reference internal" href="#tornado.web.Application.settings" title="tornado.web.Application.settings"><tt class="xref py py-obj docutils literal"><span class="pre">Application.settings</span></tt></a> dictionary.  <tt class="docutils literal"><span class="pre">path</span></tt>
is the static path being requested.  The url returned should be
relative to the current host.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a indepth="true" href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">tornado.web</span></tt> — <tt class="docutils literal"><span class="pre">RequestHandler</span></tt> and <tt class="docutils literal"><span class="pre">Application</span></tt> classes</a><ul>
<li><a class="reference internal" href="#thread-safety-notes">Thread-safety notes</a></li>
<li><a class="reference internal" href="#request-handlers">Request handlers</a><ul>
<li><a class="reference internal" href="#entry-points">Entry points</a></li>
<li><a class="reference internal" href="#input">Input</a></li>
<li><a class="reference internal" href="#output">Output</a></li>
<li><a class="reference internal" href="#cookies">Cookies</a></li>
<li><a class="reference internal" href="#other">Other</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-configuration">Application configuration</a></li>
<li><a class="reference internal" href="#decorators">Decorators</a></li>
<li><a class="reference internal" href="#everything-else">Everything else</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a indepth="true" href="webframework.html" title="previous chapter">Core web framework</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a indepth="true" href="httpserver.html" title="next chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">tornado.httpserver</span></tt> — Non-blocking HTTP server</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="http://en.tornadoweb.cn/documentation/_sources/web.txt" rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none;">
  <h3>Quick search</h3>
    <form class="search" action="http://en.tornadoweb.cn/documentation/search.html" method="get">
      <input value="" name="q" size="18" type="text">
      <input value="Go" type="submit">
      <input name="check_keywords" value="yes" type="hidden">
      <input name="area" value="default" type="hidden">
    </form>
    <p class="searchtip" style="font-size: 90%;">
    Enter search terms or a module, class or function name.
    </p>
</div>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px;">
          <a indepth="true" href="genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a indepth="true" href="py-modindex.html" title="Python Module Index">modules</a> |</li>
        <li class="right">
          <a indepth="true" href="httpserver.html" title="tornado.httpserver — Non-blocking HTTP server">next</a> |</li>
        <li class="right">
          <a indepth="true" href="webframework.html" title="Core web framework">previous</a> |</li>
        <li><a indepth="true" href="index.html">Tornado v2.1.1 documentation</a> »</li>
          <li><a indepth="true" href="webframework.html">Core web framework</a> »</li> 
      </ul>
    </div>
    <div class="footer">
        © Copyright 2011, Facebook.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  


</body></html>
