<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  
  <meta name="GENERATOR" content="SGML-Tools 1.0.9">

  <title>Linux IPCHAINS-HOWTO</title>
  <link href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html" rel="next">


<link rel="stylesheet" type="text/css" href="ipchains-howto.css" media="all">
</head>
<body>
<div id="LinuxDocHead"><a href="http://www.linuxdoc.org/" title="LinuxDoc - Linux Howtos, Help and Community"><img src="linuxdoc-org-logo-new.png" alt="Linuxdoc Linux Questions" border="0"><br>Click here to ask our community of linux experts!</a></div>
<div id="gsearchform"><div class="cse-branding-right" style="background-color: rgb(255, 255, 255); color: rgb(0, 0, 0);"><div class="cse-branding-form"><form action="http://www.linuxdoc.org/HOWTO/search.html" id="cse-search-box"><div><input name="cx" value="partner-pub-1660455800231982:yz2e8rfmg8d" type="hidden"><input name="cof" value="FORID:10" type="hidden"><input name="ie" value="ISO-8859-1" type="hidden"><input value="" name="q" size="31" type="text"><input name="sa" value="Search" type="submit"></div></form></div><div class="cse-branding-logo"><img src="poweredby_ffffff.gif" alt="Google"></div><div class="cse-branding-text">Custom Search</div></div></div>
  <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html">Next</a> Previous Contents
  <hr>

  <h1>Linux IPCHAINS-HOWTO</h1>

  <h2>Rusty Russell</h2>v1.0.8, Tue Jul 4 14:20:53 EST 2000
  <hr>
  <em>This document aims to describe how to obtain, install and configure the enhanced IP firewalling chains software for Linux, and some ideas on how you might use them.</em>
  <hr>

  <h2><a name="toc1" id="toc1">1.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html">Introduction</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html#ss1.1">1.1 What?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html#ss1.2">1.2 Why?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html#ss1.3">1.3 How?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html#ss1.4">1.4 Where?</a></li>
  </ul>

  <h2><a name="toc2" id="toc2">2.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-2.html">Packet Filtering Basics</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-2.html#ss2.1">2.1 What?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-2.html#ss2.2">2.2 Why?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-2.html#ss2.3">2.3 How?</a></li>
  </ul>

  <h2><a name="toc3" id="toc3">3.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-3.html">I'm confused! Routing, masquerading, portforwarding, ipautofw...</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-3.html#ss3.1">3.1 Rusty's Three-Line Guide To Masquerading</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-3.html#ss3.2">3.2 Gratuitous Promotion: WatchGuard Rules</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-3.html#ss3.3">3.3 Common Firewall-like Setups</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-3.html#ss3.4">3.4 More Information on Masquerading</a></li>
  </ul>

  <h2><a name="toc4" id="toc4">4.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-4.html">IP Firewalling Chains</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-4.html#ss4.1">4.1 How Packets Traverse The Filters</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-4.html#ss4.2">4.2 Useful Examples</a></li>
  </ul>

  <h2><a name="toc5" id="toc5">5.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html">Miscellaneous.</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.1">5.1 How to Organize Your Firewall Rules</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.2">5.2 What Not To Filter Out</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.3">5.3 Filtering out Ping of Death</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.4">5.4 Filtering out Teardrop and Bonk</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.5">5.5 Filtering out Fragment Bombs</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.6">5.6 Changing Firewall Rules</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.7">5.7 How Do I Set Up IP Spoof Protection?</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.8">5.8 Advanced Projects</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-5.html#ss5.9">5.9 Future Enhancements</a></li>
  </ul>

  <h2><a name="toc6" id="toc6">6.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html">Common Problems</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.1">6.1 ipchains -L Freezes!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.2">6.2 Inverse doesn't work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.3">6.3 Masquerading/Forwarding Doesn't Work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.4">6.4 -j REDIR doesn't work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.5">6.5 Wildcard Interfaces Don't Work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.6">6.6 TOS Doesn't Work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.7">6.7 ipautofw and ipportfw Don't Work!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.8">6.8 xosview is Broken!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.9">6.9 Segmentation Fault With `-j REDIRECT'!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.10">6.10 I Can't Set Masquerading Timeouts!</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-6.html#ss6.11">6.11 I Want to Firewall IPX!</a></li>
  </ul>

  <h2><a name="toc7" id="toc7">7.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html">A Serious Example.</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html#ss7.1">7.1 The Arrangement</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html#ss7.2">7.2 Goals</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html#ss7.3">7.3 Before Packet Filtering</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html#ss7.4">7.4 Packet Filtering for Through Packets</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-7.html#ss7.5">7.5 Finally</a></li>
  </ul>

  <h2><a name="toc8" id="toc8">8.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-8.html">Appendix: Differences between ipchains and ipfwadm.</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-8.html#ss8.1">8.1 Quick-Reference table.</a></li>

    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-8.html#ss8.2">8.2 Examples of translated ipfwadm commands</a></li>
  </ul>

  <h2><a name="toc9" id="toc9">9.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-9.html">Appendix: Using the ipfwadm-wrapper script.</a></h2>

  <h2><a name="toc10" id="toc10">10.</a> <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-10.html">Appendix: Thanks.</a></h2>

  <ul>
    <li><a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-10.html#ss10.1">10.1 Translations</a></li>
  </ul>
  <hr>
  <a href="http://www.linuxdoc.org/HOWTO/IPCHAINS-HOWTO-1.html">Next</a> Previous Contents



</body>
</html>
